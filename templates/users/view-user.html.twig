{% extends 'base.html.twig' %}

{% block title %}User | Dashbaord{% endblock %}

{% block body %}
    <section class="section section-user">
        <div class="section-scroll section-border">
            <div class="grid section-column">
                <div class="sidebar">
                    <div class="section-scroll">
                        <div class="view-block">
                            <div class="grid-between mb-30">
                                <a href="{{ path('dashboard-users') }}" class="link link-icon" title="Back to Users">
                                    <span class="icon icon-back" style="background-image: url('{{ asset('img/icon/icon-back.png') }}');"></span>
                                </a> 

                                <a href="{{ path('dashboard-edit-user', { id: user.id }) }}" class="link link-icon" title="Edit User">
                                    <span class="icon icon-edit" style="background-image: url('{{ asset('img/icon/icon-edit.svg') }}');"></span>
                                </a>                                                              
                            </div>
                            <img class="img-avatar" alt="{{ user.firstName }} {{ user.lastName }}" src="{{ asset('/images/'~ user.avatar) }}" />
                            <h3 class="title text-center">{{ user.firstName }} {{ user.lastName }}</h3>
                            <p>
                                <strong>Email:</strong>
                                <span>{{ user.email }}</span>
                            </p>
                            <p>
                                <strong>Role:</strong>
                                <span>{{ user.roles[0] != "ROLE_USER" ? 'Admin' : 'User' }}</span>
                            </p>   
                            <p>
                                <strong>Status:</strong>
                                <span>{{ user.status != false ? 'Active' : 'Inactive' }}</span>
                            </p>                
                        </div>
                    </div>
                </div>
                <div class="content">
                    <div class="section-scroll">
                        <div class="table-wrapper">
                            <table>
                                <thead>
                                    <tr class="gradient-bg table-head-sticky">
                                        <th>Developer Name</th>
                                        <th>Task name</th>
                                        <th>Description name</th>
                                        <th>Date</th>
                                        <th>Time</th>
                                    </tr>
                                </thead>

                                <tbody>
                                    {% for task in tasks %}
                                        <tr>
                                            <td>{{ task.user.firstName }} {{ task.user.lastName }}</td>
                                            <td>{{ task.name }}</td>
                                            <td>{{ task.description }}</td>
                                            <td>{{ task.month|date("Y-m-d") }}</td>
                                            <td>{{ task.time|date('H:i:s') }}</td>
                                        </tr>
                                        {% else %}
                                            <tr>
                                                <td colspan="5">
                                                    <h2 class="mt-20 text-center">No result</h2>
                                                </td>
                                            </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
{% endblock %}

















{# Modal #}
{# {% for user in users %}
    <button class="btn link link-icon toggle-sidebar" data-toggle="{{ user.id }}">
                        <span class="icon-edit" style="background-image: url('{{ asset('img/icon/icon-edit.svg') }}');"></span>
    
    </button>
{% endfor %}
{% for user in users %}
    <div class="modal-overlay" data-toggle-selector="{{ user.id }}">
        <div class="modal modal-center" data-inner="{{ user.id }}">
            <h2>Modal: {{ user.firstName }} {{ user.lastName }}</h2>
            <button class="modal-close close" data-toggle-close="{{ user.id }}">Close</button>
        </div>
    </div>
{% endfor %} #}


{# Sidebar #}
{# {% for user in users %}
    <button class="btn btn-primary toggle-sidebar" data-toggle="{{ user.id }}">SIDEBAR: {{ user.firstName }}</button>
{% endfor %}            
{% for user in users %}
    <div class="sidebar-overlay" data-toggle-selector="{{ user.id }}">
        <div class="sidebar sidebar-right" data-inner="{{ user.id }}">
            <h2>Sidebar: {{ user.firstName }} {{ user.lastName }}</h2>

            
            <button class="sidebar-close close" data-toggle-close="{{ user.id }}">Close</button>
            
        </div>
    </div>
{% endfor %} #}